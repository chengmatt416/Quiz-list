<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>測試三：資料讀取檢查</title>
</head>
<body>
    <h1>測試三：資料讀取</h1>
    <p>這個頁面應該會列出程式碼中的四個科目：</p>
    <ul id="list"></ul>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const initialData = [
            { subject: "數", chapter: "1-3" },
            { subject: "地", chapter: "L1" },
            { subject: "歷", chapter: "L1" },
            { subject: "國", chapter: "L3" }
        ];
        const listElement = document.getElementById('list');

        if (listElement) {
            try {
                let subjectsFound = [];
                initialData.forEach(function(item) {
                    if (item && item.subject) {
                        subjectsFound.push(item.subject);
                    }
                });
                listElement.innerHTML = '<li>' + subjectsFound.join('</li><li>') + '</li>';

                const p = document.createElement('p');
                p.style.color = 'green';
                p.textContent = '測試成功：成功讀取並顯示了 ' + subjectsFound.length + ' 個項目。';
                document.body.appendChild(p);

            } catch (error) {
                alert('執行資料讀取時發生了未預期的錯誤: ' + error.message);
            }
        } else {
            alert('錯誤：找不到ID為 "list" 的清單元件。');
        }
    });
    </script>
</body>
</html>

